exports.ObjetFenetre_ParamAppreciationsBulletinEleve=void 0;const ObjetFenetre_1=require("ObjetFenetre");const ObjetListeElements_1=require("ObjetListeElements");const ObjetTraduction_1=require("ObjetTraduction");const ObjetFenetre_CategorieEvaluation_1=require("ObjetFenetre_CategorieEvaluation");const Divers_css_1=;class ObjetFenetre_ParamAppreciationsBulletinEleve extends ObjetFenetre_1.ObjetFenetre{constructor(){super(...arguments);this.afficherPeriodeVerticale=false;this.afficherCoefficientZero=true;this.afficherDevoirsEvalPdB=true;this.afficherAbsencePdB=true;this.afficherRetardPdB=true;this.afficherCategorie=false;this.afficherPeriode=new ObjetListeElements_1.ObjetListeElements();this.listeCategoriesSelectionnees=new ObjetListeElements_1.ObjetListeElements();this.nbTotalCategorie=0;this.nbCategorieSelectionnees=0;} getControleur(aInstance){return $.extend(true,super.getControleur(aInstance),{checkAfficherPeriode:{getValue:function(index){return aInstance.afficherPeriode.get(index).visible;},setValue:function(index,aData){aInstance.afficherPeriode.get(index).visible=aData;}},checkAfficherPeriodeVerticale:{getValue:function(){return aInstance.afficherPeriodeVerticale;},setValue:function(aData){aInstance.afficherPeriodeVerticale=aData;}},checkAfficherCoefficientZero:{getValue:function(){return aInstance.afficherCoefficientZero;},setValue:function(aData){aInstance.afficherCoefficientZero=aData;}},checkAfficherDevoirEvalPdB:{getValue:function(){return aInstance.afficherDevoirsEvalPdB;},setValue:function(aData){aInstance.afficherDevoirsEvalPdB=aData;}},checkAfficherAbsencePdB:{getValue:function(){return aInstance.afficherAbsencePdB;},setValue:function(aData){aInstance.afficherAbsencePdB=aData;}},checkAfficherRetardPdb:{getValue:function(){return aInstance.afficherRetardPdB;},setValue:function(aData){aInstance.afficherRetardPdB=aData;}},checkAfficherCategories:{getValue:function(){return aInstance.afficherCategorie;},setValue:function(aData){aInstance.afficherCategorie=aData;}},btnClasse:{event:function(){const lInstance=ObjetFenetre_1.ObjetFenetre.creerInstanceFenetre(ObjetFenetre_CategorieEvaluation_1.ObjetFenetre_CategorieEvaluation,{pere:aInstance,evenement:aInstance._surEvenementFenetreCategories.bind(aInstance)});lInstance.setDonnees({avecMultiSelection:true,avecCreation:false,listeCategories:aInstance.listeCategoriesSelectionnees});},getDisabled:function(){return!aInstance.afficherCategorie;}},getLibelleCategorie:function(){const lLibelle=(aInstance.nbCategorieSelectionnees===aInstance.nbTotalCategorie)?ObjetTraduction_1.GTraductions.getValeur('toutes'):(aInstance.nbCategorieSelectionnees===0)?ObjetTraduction_1.GTraductions.getValeur('Aucune'):(aInstance.nbCategorieSelectionnees)+'/'+aInstance.nbTotalCategorie;return lLibelle;}});} composeContenu(){const T=[];T.push('<div class="Espace">');T.push('<div class="EspaceBas10">');T.push('<fieldset class="Bordure m-bottom-l">','<legend>',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.PersonnalisationPeriode'),'</legend>');if(this.afficherPeriode){this.afficherPeriode.parcourir((element,index) =>{T.push('<div class="EspaceHaut EspaceBas10">','<ie-checkbox class="AlignementMilieuVertical" ie-model="checkAfficherPeriode('+index+')">',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.AfficherPeriode',[element.periode.getLibelle()]),'</ie-checkbox>','</div>');});} T.push('<div class="EspaceHaut">','<ie-checkbox class="AlignementMilieuVertical" ie-model="checkAfficherPeriodeVerticale">',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.AfficherPeriodeVerticale'),'</ie-checkbox>','</div>');T.push('</fieldset>');T.push('<fieldset class="EspaceBas10 Bordure">','<legend>',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.PersonnalisationDevoirsEvals'),'</legend>');T.push('<div class="EspaceHaut">','<ie-checkbox class="AlignementMilieuVertical" ie-model="checkAfficherCoefficientZero">',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.AfficherCoefficientZero'),'</ie-checkbox>','</div>');T.push(IE.jsx.str("div",{class:[Divers_css_1.StylesDivers.EspaceHaut,Divers_css_1.StylesDivers.flexContain,Divers_css_1.StylesDivers.flexCenter]},IE.jsx.str("ie-checkbox",{class:"AlignementMilieuVertical","ie-model":"checkAfficherCategories"},IE.jsx.str("span",{class:"EspaceDroit"},ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.AfficherDevoirsCategories'))),IE.jsx.str("ie-bouton",{"ie-model":"btnClasse",class:"EspaceDroit","ie-tooltiplabel":ObjetTraduction_1.GTraductions.getValeur('FenetreCategorieEvaluation.SelectionUneCategorie')},"..."),IE.jsx.str("span",{class:"EspaceGauche","ie-html":"getLibelleCategorie"})));T.push('</div>');T.push('</fieldset>');T.push('<fieldset class="EspaceHaut Bordure">','<legend>',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.PersonnalisationAppreciations'),'</legend>');T.push('<div class="EspaceHaut">');T.push('<div>',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.ColonnesComplementaires'),'</div>');T.push('<div class="PetitEspaceHaut GrandEspaceGauche">');T.push('<div class="EspaceHaut">','<ie-checkbox class="AlignementMilieuVertical" ie-model="checkAfficherDevoirEvalPdB">',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.AfficherDevoirsEvals'),'</ie-checkbox>','</div>');T.push('<div class="EspaceHaut">','<ie-checkbox class="AlignementMilieuVertical" ie-model="checkAfficherAbsencePdB">',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.AfficherAbsences'),'</ie-checkbox>','</div>');T.push('<div class="EspaceHaut">','<ie-checkbox class="AlignementMilieuVertical" ie-model="checkAfficherRetardPdb">',ObjetTraduction_1.GTraductions.getValeur('AppreciationsBulletinEleve.FenetreParametrageAffichage.AfficherRetards'),'</ie-checkbox>','</div>');T.push('</div>','</div>');T.push('</fieldset>');return T.join('');} setDonnees(aDonnees){this.afficherPeriodeVerticale=aDonnees.afficherPeriodeVerticale;this.afficherCoefficientZero=aDonnees.afficherCoefficientZero;this.afficherDevoirsEvalPdB=aDonnees.afficherDevoirsEvalPdB;this.afficherAbsencePdB=aDonnees.afficherAbsencePdB;this.afficherRetardPdB=aDonnees.afficherRetardPdB;this.afficherPeriode=aDonnees.afficherPeriode;this.afficherCategorie=aDonnees.afficherCategorie;this.listeCategoriesSelectionnees=aDonnees.listeCategoriesSelectionnees;const lListeDonnee=aDonnees.listeCategoriesSelectionnees.getListeElements((aElement) =>{return aElement.coche;});this.nbTotalCategorie=aDonnees.listeCategoriesSelectionnees.count();this.nbCategorieSelectionnees=lListeDonnee.count();this.afficher(this.composeContenu());} surValidation(aNumeroBouton){this.fermer();this.callback.appel(aNumeroBouton,{afficherPeriodeVerticale:this.afficherPeriodeVerticale,afficherCoefficientZero:this.afficherCoefficientZero,afficherPeriode:this.afficherPeriode,afficherDevoirsEvalPdB:this.afficherDevoirsEvalPdB,afficherAbsencePdB:this.afficherAbsencePdB,afficherRetardPdB:this.afficherRetardPdB,afficherCategorie:this.afficherCategorie,listeCategoriesSelectionnees:this.listeCategoriesSelectionnees});} _surEvenementFenetreCategories(aParam){this.nbTotalCategorie=aParam.nbCategorieTotal;this.nbCategorieSelectionnees=aParam.nbCategorieSelectionnees;this.listeCategoriesSelectionnees=aParam.listeCategoriesSelectionnees;}} exports.ObjetFenetre_ParamAppreciationsBulletinEleve=ObjetFenetre_ParamAppreciationsBulletinEleve;