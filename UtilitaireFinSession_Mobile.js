exports.UtilitaireFinSession_Mobile=void 0;const ObjetHtml_1=require("ObjetHtml");const ObjetTraduction_1=require("ObjetTraduction");const IEHtml_Bouton_css_1=;const AccessApp_1=require("AccessApp");const GlossaireCP_1=require("GlossaireCP");class UtilitaireFinSession_Mobile{_construireEnTetePageFinSession(aParam){const lHtml=[];lHtml.push(IE.jsx.str(IE.jsx.fragment,null,IE.jsx.str("nav",{class:"nav-login"},IE.jsx.str("div",{class:"nav-wrapper main-header disable-dark-mode"},IE.jsx.str("div",{class:"header-gauche"},IE.jsx.str("div",{class:"masque-vide"})),IE.jsx.str("div",{class:"header-droit"},IE.jsx.str("div",{class:"infos-container",tabindex:"0"},IE.jsx.str("h1",{class:"disable-dark-mode"},aParam.nomEspace),IE.jsx.str("h2",{class:"disable-dark-mode"},aParam.nomEtablissement)))))));return lHtml.join('');} _construirePageFinSession(aParametres){const lApp=(0,AccessApp_1.getApp)();if(lApp.unloadEnCours){return;} if(lApp.estAppliMobile){window.messageData.push({action:'finSession',data:aParametres});return;} const lCouleur={texte:'black',fond:'white',bordure:'black'};const lParametresFin={jsonErreur:null,statut:'',couleur:lCouleur,sansBoutonSeConnecter:false};$.extend(lParametresFin,aParametres);let lTitre=null;let lMessage=null;let lGenreErreur;if(lParametresFin.jsonErreur){lGenreErreur=lParametresFin.jsonErreur.G;lTitre=lParametresFin.jsonErreur.Titre;lMessage=lParametresFin.jsonErreur.Message;} lTitre=lTitre===null||lTitre===undefined?ObjetTraduction_1.GTraductions.getValeur('connexion.PageIndisponible'):lTitre;lMessage=lMessage===null||lMessage===undefined?ObjetTraduction_1.GTraductions.getValeur('connexion.AffichagePageImpossible'):lMessage;const lEstPrimaire=!!lApp.estPrimaire;const T=[];try{T.push(lApp.construireEnTetePageFinSession(lParametresFin));} catch(e){} T.push(`<main class="deconnexion bg-mobile-${!lEstPrimaire?(lApp.nomProduit).toLowerCase():`primaire`}">`);T.push(`<div class="title-content">`);T.push(`<h3 class="logo_${(lApp.nomProduit).toLowerCase()} ${lEstPrimaire?` primaire`:''} "></h3>`);const lModel=() =>{return{event(){window.location.reload();}};};T.push('<h4>'+ObjetTraduction_1.GTraductions.getValeur('connexion.Deconnecter')+'</h4>',(lTitre?'<p class="pageDeconnexion_titre">'+lTitre+(lParametresFin.statut?' ('+ObjetTraduction_1.GTraductions.getValeur('connexion.Erreur')+' '+lParametresFin.statut+')':'')+'</p>':''),(lMessage?'<p class="message">'+lMessage+'</p>':''),'</div>',(lGenreErreur!==7&&!lParametresFin.sansBoutonSeConnecter?IE.jsx.str("ie-bouton",{class:IEHtml_Bouton_css_1.StylesIEHtmlBouton.themeBoutonPrimaire,"ie-model":lModel},ObjetTraduction_1.GTraductions.getValeur('connexion.SeConnecter')):''),'</main>');ObjetHtml_1.GHtml.setHtml(lApp.getIdConteneur(),T.join(''));(0,AccessApp_1.getApp)().getObjetParametres().setDocumentTitle(GlossaireCP_1.TradGlossaireCP.PageDeconnexion);}} exports.UtilitaireFinSession_Mobile=UtilitaireFinSession_Mobile;